<% if notice.present? %>
  <div class="alert alert-success" role="alert">
    <%= notice %>
  </div>
<% end %>

<h1>Tenancies</h1>

<%= link_to "Create new tenancy", new_tenancy_path, class:"btn btn-outline-success"  %>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Agreement Name</th>
      <th scope="col">Start Date</th>
      <th scope="col">End Date</th>
      <th scope="col">Contractual Basis</th>
      <th scope="col">Pets?</th>
      <th scope="col">Bond Amount</th>
      <th scope="col">Pays water</th>
      <th scope="col">Pays gas</th>
      <th scope="col">Pays electricity</th>
      <th scope="col">Tenant</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <% @tenancies.each do |tenancy| %>
    <tr>
      <td><%= tenancy.name %></td>
      <td><%= tenancy.start_date %></td>
      <td><%= tenancy.end_date %></td>
      <td><%= tenancy.contractual_basis %></td>
      <td><%= tenancy.has_pets %></td>
      <td><%= tenancy.bond_amount %></td>
      <td><%= tenancy.pays_water %></td>
      <td><%= tenancy.pays_gas %></td>
      <td><%= tenancy.pays_electricity %></td>
      
      <td>
        <% tenancy.tenants.each do |t| %>
        <%= t.first_name %>
        <% end %>
      </td>
      
      <td><%= link_to "Edit", edit_tenancy_path(tenancy), class:"btn btn-primary" %></td>
      <td><%= button_to "Delete", tenancy, method: :delete, class:"btn btn-outline-danger" %></td>
    </tr>
    <% end %>
  </tbody>
</table>
